{"ast":null,"code":"var _jsxFileName = \"/home/tyler/code/projects/movie-hunter/client/src/components/Search.js\",\n  _s = $RefreshSig$();\nimport SearchTile from \"./SearchTile\";\nimport { useState, useEffect } from \"react\";\nimport { Input, Button, Divider } from \"semantic-ui-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Search() {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/api/movies\").then(r => {\n      if (r.ok) {\n        r.json().then(movies => setMovies(movies));\n      }\n    });\n  }, []);\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(`https://www.omdbapi.com/?apikey=eea402bd&s=${input}&type=movie`).then(r => r.json()).then(data => {\n      if (data.Error) {\n        setError(data.Error);\n      } else {\n        setError(\"\");\n        setMovies(data.Search.map(m => {\n          return {\n            title: m.Title,\n            year: m.Year,\n            poster: m.Poster,\n            imdb_id: m.imdbID\n          };\n        }));\n      }\n    });\n  };\n  const searchTiles = movies.map(m => {\n    return /*#__PURE__*/_jsxDEV(SearchTile, {\n      title: m.title,\n      year: m.year,\n      image: m.poster,\n      imdb: m.imdb_id\n    }, \"movieSearch\" + m.imdb_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Search Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-div\",\n          children: error ? error : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          fluid: true,\n          icon: \"search\",\n          placeholder: \"Search...\",\n          onChange: e => setInput(e.target.value),\n          value: input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          value: \"search\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Users liked...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"search-results-container\",\n      className: \"grid-container\",\n      children: searchTiles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n}\n_s(Search, \"yKFMS8vc8NWAtUMX2TQn9AbacWk=\");\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["SearchTile","useState","useEffect","Input","Button","Divider","Search","input","setInput","movies","setMovies","error","setError","fetch","then","r","ok","json","handleSubmit","e","preventDefault","data","Error","map","m","title","Title","year","Year","poster","Poster","imdb_id","imdbID","searchTiles","target","value"],"sources":["/home/tyler/code/projects/movie-hunter/client/src/components/Search.js"],"sourcesContent":["import SearchTile from \"./SearchTile\";\nimport { useState, useEffect } from \"react\";\nimport { Input, Button, Divider } from \"semantic-ui-react\";\n\nexport default function Search() {\n\tconst [input, setInput] = useState(\"\");\n\tconst [movies, setMovies] = useState([]);\n\tconst [error, setError] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tfetch(\"/api/movies\").then((r) => {\n\t\t\tif (r.ok) {\n\t\t\t\tr.json().then((movies) => setMovies(movies));\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tfetch(`https://www.omdbapi.com/?apikey=eea402bd&s=${input}&type=movie`)\n\t\t\t.then((r) => r.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.Error) {\n\t\t\t\t\tsetError(data.Error);\n\t\t\t\t} else {\n\t\t\t\t\tsetError(\"\");\n\t\t\t\t\tsetMovies(\n\t\t\t\t\t\tdata.Search.map((m) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: m.Title,\n\t\t\t\t\t\t\t\tyear: m.Year,\n\t\t\t\t\t\t\t\tposter: m.Poster,\n\t\t\t\t\t\t\t\timdb_id: m.imdbID,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst searchTiles = movies.map((m) => {\n\t\treturn (\n\t\t\t<SearchTile\n\t\t\t\ttitle={m.title}\n\t\t\t\tyear={m.year}\n\t\t\t\timage={m.poster}\n\t\t\t\timdb={m.imdb_id}\n\t\t\t\tkey={\"movieSearch\" + m.imdb_id}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div className=\"content-container\">\n\t\t\t<div>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<h1>Search Movies</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className=\"error-div\">{error ? error : null}</div>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tfluid\n\t\t\t\t\t\ticon=\"search\"\n\t\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t\t\tvalue={input}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button type=\"submit\" value=\"search\">\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<h2>Users liked...</h2>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div id=\"search-results-container\" className=\"grid-container\">\n\t\t\t\t{searchTiles}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}